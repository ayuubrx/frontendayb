<!-- profil.component.html -->
<div class="profile-container">
  <section class="profile-card">
    <h2 class="section-title">D√©tails du profil</h2>
    <div class="profile-header">
      <div class="profile-photo">
        <img *ngIf="user.photo" [src]="user.photo" alt="Photo de profil" />
        <div *ngIf="!user.photo" class="avatar">{{ user.initials }}</div>
        <input type="file" #photoInput accept="image/*" (change)="onPhotoSelected($event)" hidden />
        <button class="btn-outline" (click)="triggerPhotoUpload()">Changer la photo</button>
      </div>
      <div class="profile-info">
        <h3>{{ user.firstName }} {{ user.lastName }}</h3>
        <p class="subnote">{{ user.email }}</p>
        <button class="btn">üîó Copier le lien</button>
        <p><a href="#" (click)="toggleVisibility()">Modifier la visibilit√©</a></p>
        <p *ngIf="!user.profileVisible" class="hidden-note">Votre profil n'est pas visible publiquement.</p>
      </div>
    </div>
  </section>

  <section class="experience-section">
    <h2 class="section-title">Exp√©rience</h2>

    <div class="experience-card">
      <h3>Projets</h3>
      <p class="subtext">Ajoutez vos projets pertinents pour valoriser vos comp√©tences techniques.</p>
      <a href="#">Parcourir les projets</a>
    </div>

    <div class="experience-card">
      <h3>Exp√©riences professionnelles</h3>
      <p>Ajoutez ici vos exp√©riences pass√©es...</p>
      <button class="btn-outline">+ Ajouter une exp√©rience</button>
    </div>
  </section>
</div>

<!-- Modal -->
<div class="modal-backdrop" *ngIf="showVisibilityModal">
  <div class="modal">
    <h3>Param√®tres de visibilit√©</h3>
    <p>Choisissez qui peut voir votre profil en ligne.</p>
    <label class="checkbox">
      <input type="checkbox" [checked]="user.profileVisible" (change)="onCheckboxChange($event)" />
      <strong>Tout utilisateur disposant du lien</strong>
      <p class="checkbox-desc">Ce profil n'apparaitra pas dans les moteurs de recherche.</p>
    </label>
    <div class="modal-actions">
      <button class="btn" (click)="closeModal()">Fermer</button>
    </div>
  </div>
</div>
